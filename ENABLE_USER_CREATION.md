# ๐ ุชูุนูู ุฅูุดุงุก ุงููุณุชุฎุฏููู

## โ ุงููุดููุฉ ุงูุญุงููุฉ
ุนูุฏ ูุญุงููุฉ ุฅูุดุงุก ูุณุชุฎุฏู ุฌุฏูุฏุ ุชุธูุฑ ุฑุณุงูุฉ: **"User not allowed"**

## โ ุงูุญู - ุฎุทูุชุงู ุจุณูุทุชุงู

---

## ุงูุฎุทูุฉ 1: ุชุนุทูู Email Confirmation ูู Supabase

### 1.1 ุงูุชุญ Supabase Dashboard
```
https://supabase.com/dashboard/project/tznyuhnglpnfllzdhhde
```

### 1.2 ุงุฐูุจ ุฅูู Authentication Settings
- ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ: **Authentication**
- ุซู: **Settings**
- ุซู: **Auth Settings**

### 1.3 ุชุนุทูู Email Confirmations
- ุงุจุญุซ ุนู: **Enable email confirmations**
- **ูู ุจุชุนุทููู** (ุฃุฒู ุงูุนูุงูุฉ โ)
- ุงุถุบุท **Save**

---

## ุงูุฎุทูุฉ 2: ุฅุถุงูุฉ Service Role Key (ุงุฎุชูุงุฑู - ููุฃูุงู ุงูุฃูุถู)

### 2.1 ุงุญุตู ุนูู Service Role Key

1. ูู Supabase Dashboard
2. ุงุฐูุจ ุฅูู: **Settings** โ **API**
3. ุงูุณุฎ **service_role key** (โ๏ธ ุงุญุชูุธ ุจูุง ุณุฑูุฉ!)

### 2.2 ุฃุถููุง ุฅูู ููู .env

ุงูุชุญ ููู `.env` ูุฃุถู:

```env
VITE_SUPABASE_URL=https://tznyuhnglpnfllzdhhde.supabase.co
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
VITE_SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9... # ุฃุถู ูุฐุง ุงูุณุทุฑ
```

โ๏ธ **ููู ุฌุฏุงู**: 
- ูุง ุชุดุงุฑู Service Role Key ูุน ุฃุญุฏ
- ูุง ุชุฑูุนูุง ุนูู GitHub
- ุชุฃูุฏ ุฃู `.env` ููุฌูุฏ ูู `.gitignore`

### 2.3 ุฃุนุฏ ุชุดุบูู ุงูุชุทุจูู

```bash
# ุฃููู ุงูุชุทุจูู (Ctrl+C)
npm run dev
```

---

## ๐ ุงูุญู ุงูุณุฑูุน (ุจุฏูู Service Key)

ุฅุฐุง ููุช ุชุฑูุฏ ุญูุงู ุณุฑูุนุงู ุจุฏูู Service Key:

### ููุท ููุฐ ุงูุฎุทูุฉ 1 (ุชุนุทูู Email Confirmation)

ุซู ุงุณุชุฎุฏู ูุฐุง ุงูููุฏ ุงูุจุฏูู ูู AdminUsers.jsx:

```javascript
// ุจุฏูุงู ูู ุงุณุชุฎุฏุงู supabaseAdmin
const { data: authData, error: authError } = await supabase.auth.signUp({
  email: formData.email,
  password: formData.password,
  options: {
    data: {
      full_name: formData.full_name
    }
  }
})
```

---

## ๐งช ุงุฎุชุจุงุฑ ุฅูุดุงุก ุงููุณุชุฎุฏู

ุจุนุฏ ุชูููุฐ ุงูุฎุทูุงุช:

1. **ุงุฐูุจ ุฅูู**: Gestion des Utilisateurs
2. **ุงุถุบุท**: Ajouter un Utilisateur
3. **ุงููุฃ ุงููููุฐุฌ**:
   - ุงุณู ุงููุณุชุฎุฏู: `test_user`
   - ุงูุจุฑูุฏ: `test@rimatel.mr`
   - ูููุฉ ุงููุฑูุฑ: `test123`
   - ุงูุงุณู ุงููุงูู: `ูุณุชุฎุฏู ุชุฌุฑูุจู`
   - ุงูุฏูุฑ: User
4. **ุงุญูุธ**
5. **ูุฌุจ ุฃู ููุฌุญ!** โ

---

## ๐ ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉ

### ุงูุฎุทุฃ: "User not allowed"

**ุงูุณุจุจ**: Email Confirmation ูุง ูุฒุงู ููุนูุงู

**ุงูุญู**: ุชุฃูุฏ ูู ุชุนุทูู "Enable email confirmations" ูู Supabase

---

### ุงูุฎุทุฃ: "Invalid API key"

**ุงูุณุจุจ**: Service Role Key ุบูุฑ ุตุญูุญ

**ุงูุญู**: 
1. ุชุญูู ูู Service Role Key ูู Settings โ API
2. ุชุฃูุฏ ูู ูุณุฎู ุจุงููุงูู
3. ุชุฃูุฏ ูู ุฅุถุงูุชู ูู `.env` ุจุดูู ุตุญูุญ
4. ุฃุนุฏ ุชุดุบูู ุงูุชุทุจูู

---

### ุงูุฎุทุฃ: "Email rate limit exceeded"

**ุงูุณุจุจ**: Supabase ูุญุฏ ูู ุนุฏุฏ ุงูุฅููููุงุช ุงููุฑุณูุฉ

**ุงูุญู**: 
1. ุงูุชุธุฑ ุจุถุน ุฏูุงุฆู
2. ุฃู ุนุทูู Email Confirmation ููุง ูู ุงูุฎุทูุฉ 1

---

## โ๏ธ ุฅุนุฏุงุฏุงุช ุฅุถุงููุฉ (ุงุฎุชูุงุฑูุฉ)

### ุชูุนูู Auto-confirm ูููุณุชุฎุฏููู ุงูุฌุฏุฏ

ูู Supabase Dashboard:
1. **Authentication** โ **Settings**
2. **Auth Settings**
3. **Enable email confirmations**: โ ูุนุทู
4. **Enable phone confirmations**: โ ูุนุทู

---

## ๐ ูุงุฆูุฉ ุงูุชุญูู

- [ ] ุชู ุชุนุทูู Email Confirmations ูู Supabase
- [ ] (ุงุฎุชูุงุฑู) ุชู ุฅุถุงูุฉ Service Role Key ูู .env
- [ ] ุชู ุฅุนุงุฏุฉ ุชุดุบูู ุงูุชุทุจูู
- [ ] ุชู ุงุฎุชุจุงุฑ ุฅูุดุงุก ูุณุชุฎุฏู ุฌุฏูุฏ
- [ ] ูุฌุญ ุฅูุดุงุก ุงููุณุชุฎุฏู โ

---

## ๐ฏ ุงููุชูุฌุฉ ุงููุชููุนุฉ

ุจุนุฏ ุชูููุฐ ุงูุฎุทูุงุช:
- โ ูููู ุฅูุดุงุก ูุณุชุฎุฏููู ุฌุฏุฏ ุจุฏูู ุฃุฎุทุงุก
- โ ุงููุณุชุฎุฏููู ุงูุฌุฏุฏ ูุธูุฑูู ูู Authentication โ Users
- โ ุงููุณุชุฎุฏููู ุงูุฌุฏุฏ ูุธูุฑูู ูู ุฌุฏูู users
- โ ูููู ุชุณุฌูู ุงูุฏุฎูู ุจุงููุณุชุฎุฏููู ุงูุฌุฏุฏ

---

**ุงูุญุงูุฉ**: ๐ง ุฌุงูุฒ ููุชุทุจูู

