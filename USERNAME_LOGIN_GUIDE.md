# ๐ ุฏููู ุชุณุฌูู ุงูุฏุฎูู ุจุงุณู ุงููุณุชุฎุฏู

## โจ ุงูุชุญุฏูุซุงุช ุงูุฌุฏูุฏุฉ - ุงูุฅุตุฏุงุฑ 1.2

### 1๏ธโฃ ุชุณุฌูู ุงูุฏุฎูู ุจุงุณู ุงููุณุชุฎุฏู
**ูุจู**: ูุงู ุชุณุฌูู ุงูุฏุฎูู ูุชุทูุจ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู  
**ุจุนุฏ**: ุงูุขู ูุชู ุชุณุฌูู ุงูุฏุฎูู ุจุงุณู ุงููุณุชุฎุฏู

### 2๏ธโฃ ุฑูู ุงููุงุชู ููุนุฑู ุฑุฆูุณู
**ูุจู**: ูุงู ุงุณู ุงูุนููู ูู ุงููุนุฑู ุงูุฑุฆูุณู  
**ุจุนุฏ**: ุฑูู ุงููุงุชู ูู ุงููุนุฑู ุงูุฑุฆูุณู (ุงุณู ุงูุนููู ุงุฎุชูุงุฑู)

---

## ๐ ุฎุทูุงุช ุชุทุจูู ุงูุชุญุฏูุซุงุช

### ุงูุฎุทูุฉ 1: ุชูููุฐ Migration SQL โ๏ธ ููู ุฌุฏุงู

1. **ุงูุชุญ Supabase Dashboard**
   ```
   https://supabase.com/dashboard/project/tznyuhnglpnfllzdhhde
   ```

2. **SQL Editor** โ **New query**

3. **ุงูุณุฎ ูุงูุตู** ูุญุชูู ุงูููู:
   ```
   rimatel-app/supabase/migrations/005_username_login.sql
   ```

4. **ููุฐ ุงูุงุณุชุนูุงู** (Run ุฃู Ctrl+Enter)

5. **ุชุญูู ูู ุงููุฌุงุญ**:
   ```sql
   -- ุชุญูู ูู ุฅุถุงูุฉ ุนููุฏ username
   SELECT column_name FROM information_schema.columns 
   WHERE table_name = 'users' AND column_name = 'username';
   
   -- ุชุญูู ูู username ูููุฏูุฑ
   SELECT username, email FROM users WHERE email = 'admin@rimatel.mr';
   ```

### ุงูุฎุทูุฉ 2: ุฅุนุงุฏุฉ ุชุดุบูู ุงูุชุทุจูู

```bash
# ุฃููู ุงูุชุทุจูู (Ctrl+C)
# ุซู ุฃุนุฏ ุงูุชุดุบูู
npm run dev
```

---

## ๐ ุจูุงูุงุช ุชุณุฌูู ุงูุฏุฎูู ุงูุฌุฏูุฏุฉ

### ุงููุฏูุฑ (Admin)
- **ุงุณู ุงููุณุชุฎุฏู**: `admin`
- **ูููุฉ ุงููุฑูุฑ**: `admin123`

**ููุงุญุธุฉ**: ูู ูุนุฏ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุทููุจุงู ูุชุณุฌูู ุงูุฏุฎูู!

---

## ๐ฑ ุฅูุดุงุก ุชุฐูุฑุฉ ุฌุฏูุฏุฉ

### ุงูุญููู ุงููุทููุจุฉ ุงูุขู:

1. **ุฑูู ุงููุดุชุฑู** (DAB + 1-6 ุฃุฑูุงู) - ุฅูุฒุงูู
2. **ุฑูู ุงููุงุชู** (6-15 ุฑูู) - ุฅูุฒุงูู โญ ุงููุนุฑู ุงูุฑุฆูุณู
3. **ุงุณู ุงูุนููู** - ุงุฎุชูุงุฑู ุงูุขู
4. **ุงูููุงูุฉ** - ุฅูุฒุงูู
5. **ุงูููุทูุฉ** (ุฅุฐุง ูุงูุช ููุงูุดูุท) - ุฅูุฒุงูู
6. **ููุน ุงูุงุดุชุฑุงู** - ุฅูุฒุงูู
7. **ููุน ุงูุดููู** - ุฅูุฒุงูู
8. **ูุตู ุงููุดููุฉ** - ุฅูุฒุงูู

### ุงูุชุบููุฑุงุช:
- โ ุฑูู ุงููุงุชู ุงูุขู ูู ุงูุฃุนูู (ุฃูู ุญูู)
- โ ุงุณู ุงูุนููู ุฃุตุจุญ ุงุฎุชูุงุฑูุงู
- โ ุงูุชุญูู ูู ุงูุชูุฑุงุฑ ูุนุชูุฏ ุนูู: ุฑูู ุงููุงุชู + ููุน ุงูุงุดุชุฑุงู

---

## ๐ฅ ุฅูุดุงุก ูุณุชุฎุฏู ุฌุฏูุฏ

### ุงูุญููู ุงููุทููุจุฉ:

1. **ุงุณู ุงููุณุชุฎุฏู** - ุฅูุฒุงูู โญ ุฌุฏูุฏ
   - ุญุฑูู ุตุบูุฑุฉ ููุท (a-z)
   - ุฃุฑูุงู (0-9)
   - ุดุฑุทุฉ ุณูููุฉ (_)
   - ูุซุงู: `tech1`, `user_support`, `admin2`

2. **ุงูุจุฑูุฏ ุงูุฅููุชุฑููู** - ุฅูุฒุงูู
   - ูุณุชุฎุฏู ุฏุงุฎููุงู ููุท
   - ูุง ูุณุชุฎุฏู ูุชุณุฌูู ุงูุฏุฎูู

3. **ูููุฉ ุงููุฑูุฑ** - ุฅูุฒุงูู (ูููุณุชุฎุฏููู ุงูุฌุฏุฏ ููุท)

4. **ุงูุงุณู ุงููุงูู** - ุฅูุฒุงูู

5. **ุงูุฏูุฑ** - ุฅูุฒุงูู
   - Admin (ูุฏูุฑ)
   - User (ูุณุชุฎุฏู)
   - Technicien (ุชููู)

6. **ุงูุฎุฏูุงุช** (ููุชููููู ููุท)
   - SAWI
   - LTE
   - BLR
   - FTTH
   - LS/MPLS

---

## ๐ ุงููุฑููุงุช ุงูุฑุฆูุณูุฉ

### ุชุณุฌูู ุงูุฏุฎูู

| ูุจู | ุจุนุฏ |
|-----|-----|
| ุงูุจุฑูุฏ ุงูุฅููุชุฑููู + ูููุฉ ุงููุฑูุฑ | ุงุณู ุงููุณุชุฎุฏู + ูููุฉ ุงููุฑูุฑ |
| `admin@rimatel.mr` | `admin` |

### ุฅูุดุงุก ุงูุชุฐูุฑุฉ

| ูุจู | ุจุนุฏ |
|-----|-----|
| ุงุณู ุงูุนููู (ุฅูุฒุงูู) | ุฑูู ุงููุงุชู (ุฅูุฒุงูู) |
| ุฑูู ุงููุงุชู (ุฅูุฒุงูู) | ุงุณู ุงูุนููู (ุงุฎุชูุงุฑู) |
| ุงูุชุญูู ูู ุงูุชูุฑุงุฑ: ุฑูู ุงููุดุชุฑู | ุงูุชุญูู ูู ุงูุชูุฑุงุฑ: ุฑูู ุงููุงุชู + ููุน ุงูุงุดุชุฑุงู |

### ุนุฑุถ ุงูุชุฐุงูุฑ

| ูุจู | ุจุนุฏ |
|-----|-----|
| ูุนุฑุถ ุงุณู ุงูุนููู | ูุนุฑุถ ุฑูู ุงููุงุชู |
| - | ุงุณู ุงูุนููู ูุธูุฑ ุฃุณููู (ุฅุฐุง ูุงู ููุฌูุฏุงู) |

---

## ๐ ุฌุฏูู ุงููุณุชุฎุฏููู

### ุงูุฃุนูุฏุฉ ุงููุนุฑูุถุฉ ุงูุขู:

1. **ุงุณู ุงููุณุชุฎุฏู** โญ ุฌุฏูุฏ
2. **ุงูุงุณู ุงููุงูู**
3. **ุงูุฏูุฑ**
4. **ุงูุฎุฏูุงุช ุงููุนููุฉ** (ููุชููููู)
5. **ุงูุญุงูุฉ** (ูุดุท/ุบูุฑ ูุดุท)
6. **ุงูุฅุฌุฑุงุกุงุช**

---

## ๐งช ุงุฎุชุจุงุฑ ุงูุชุญุฏูุซุงุช

### ุงุฎุชุจุงุฑ 1: ุชุณุฌูู ุงูุฏุฎูู ุจุงุณู ุงููุณุชุฎุฏู

1. ุงูุชุญ ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู
2. ุฃุฏุฎู:
   - ุงุณู ุงููุณุชุฎุฏู: `admin`
   - ูููุฉ ุงููุฑูุฑ: `admin123`
3. ูุฌุจ ุฃู ุชูุฌุญ ุนูููุฉ ุชุณุฌูู ุงูุฏุฎูู

### ุงุฎุชุจุงุฑ 2: ุฅูุดุงุก ุชุฐูุฑุฉ ุจุฑูู ุงููุงุชู

1. ุงุฐูุจ ุฅูู "+ ุชุฐูุฑุฉ ุฌุฏูุฏุฉ"
2. ุฃุฏุฎู:
   - ุฑูู ุงููุดุชุฑู: `DAB12345`
   - ุฑูู ุงููุงุชู: `+22212345678`
   - ุงุชุฑู ุงุณู ุงูุนููู ูุงุฑุบุงู
   - ุฃููู ุจุงูู ุงูุญููู
3. ูุฌุจ ุฃู ุชููุดุฃ ุงูุชุฐูุฑุฉ ุจูุฌุงุญ

### ุงุฎุชุจุงุฑ 3: ุงูุชุญูู ูู ุงูุชูุฑุงุฑ

1. ุญุงูู ุฅูุดุงุก ุชุฐูุฑุฉ ุฃุฎุฑู ุจููุณ:
   - ุฑูู ุงููุงุชู: `+22212345678`
   - ููุน ุงูุงุดุชุฑุงู: ููุณ ุงูููุน ุงูุณุงุจู
2. ูุฌุจ ุฃู ุชุธูุฑ ุฑุณุงูุฉ ุฎุทุฃ: "ุชุฐูุฑุฉ ููุชูุญุฉ ููุฌูุฏุฉ ุจุงููุนู"

### ุงุฎุชุจุงุฑ 4: ุฅูุดุงุก ูุณุชุฎุฏู ุฌุฏูุฏ

1. ููุญุฉ ุงูุฅุฏุงุฑุฉ โ "ุฅุถุงูุฉ ูุณุชุฎุฏู"
2. ุฃุฏุฎู:
   - ุงุณู ุงููุณุชุฎุฏู: `test_user`
   - ุงูุจุฑูุฏ ุงูุฅููุชุฑููู: `test@rimatel.mr`
   - ูููุฉ ุงููุฑูุฑ: `test123`
   - ุงูุงุณู ุงููุงูู: `ูุณุชุฎุฏู ุชุฌุฑูุจู`
   - ุงูุฏูุฑ: User
3. ุงุญูุธ
4. ุณุฌู ุงูุฎุฑูุฌ
5. ุณุฌู ุงูุฏุฎูู ุจุงุณู ุงููุณุชุฎุฏู: `test_user`

---

## ๐ ุงูุฃูุงู

### ุชูููุฏ ุงุณู ุงููุณุชุฎุฏู ุงูุชููุงุฆู

ุฅุฐุง ูู ูุชู ุชูููุฑ ุงุณู ูุณุชุฎุฏู ุนูุฏ ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏุ ุณูุชู ุชูููุฏู ุชููุงุฆูุงู ูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู:

```
ุงูุจุฑูุฏ: tech@rimatel.mr
ุงุณู ุงููุณุชุฎุฏู: tech

ุงูุจุฑูุฏ: support.team@rimatel.mr
ุงุณู ุงููุณุชุฎุฏู: support_team
```

ุฅุฐุง ูุงู ุงุณู ุงููุณุชุฎุฏู ููุฌูุฏุงูุ ุณูุชู ุฅุถุงูุฉ ุฑูู ุนุดูุงุฆู:
```
tech โ tech123
tech โ tech456
```

### ุณุฌู ูุญุงููุงุช ุชุณุฌูู ุงูุฏุฎูู

ูุชู ุงูุขู ุชุณุฌูู ุฌููุน ูุญุงููุงุช ุชุณุฌูู ุงูุฏุฎูู ูู ุฌุฏูู `login_attempts`:

```sql
-- ุนุฑุถ ุขุฎุฑ 10 ูุญุงููุงุช
SELECT * FROM login_attempts 
ORDER BY attempted_at DESC 
LIMIT 10;

-- ุนุฑุถ ุงููุญุงููุงุช ุงููุงุดูุฉ
SELECT * FROM login_attempts 
WHERE success = false 
ORDER BY attempted_at DESC;
```

---

## ๐ ููุงุญุธุงุช ูููุฉ

### 1. ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุง ูุฒุงู ูุทููุจุงู
- ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุทููุจ ุนูุฏ ุฅูุดุงุก ุงููุณุชุฎุฏู
- ูููู ูุง ููุณุชุฎุฏู ูุชุณุฌูู ุงูุฏุฎูู
- ููุณุชุฎุฏู ุฏุงุฎููุงู ูู ูุจู Supabase Auth

### 2. ุงุณู ุงููุณุชุฎุฏู ูุฑูุฏ
- ูุง ูููู ุฃู ูููู ููุงู ูุณุชุฎุฏูุงู ุจููุณ ุงุณู ุงููุณุชุฎุฏู
- ูุฌุจ ุฃู ูููู ุจุฃุญุฑู ุตุบูุฑุฉ ููุท

### 3. ุฑูู ุงููุงุชู ูู ุงููุนุฑู ุงูุฑุฆูุณู ููุชุฐุงูุฑ
- ูููู ููุนููู ุงููุงุญุฏ ุฃู ูููู ูู ุนุฏุฉ ุชุฐุงูุฑ
- ููู ุชุฐูุฑุฉ ูุงุญุฏุฉ ููุชูุญุฉ ููุท ููู (ุฑูู ูุงุชู + ููุน ุงุดุชุฑุงู)

### 4. ุงุณู ุงูุนููู ุงุฎุชูุงุฑู ุงูุขู
- ูููู ุชุฑู ุญูู ุงุณู ุงูุนููู ูุงุฑุบุงู
- ุฑูู ุงููุงุชู ูุงูู ูุชุญุฏูุฏ ุงูุนููู

---

## ๐ ุงูุชุฑุญูู ูู ุงููุธุงู ุงููุฏูู

ุฅุฐุง ูุงู ูุฏูู ุจูุงูุงุช ูุฏููุฉ:

### 1. ุฅุถุงูุฉ ุฃุณูุงุก ูุณุชุฎุฏููู ููุญุณุงุจุงุช ุงูููุฌูุฏุฉ

```sql
-- ุชุญุฏูุซ ุงููุณุชุฎุฏููู ุงูููุฌูุฏูู ุจุฃุณูุงุก ูุณุชุฎุฏููู
UPDATE users 
SET username = LOWER(SPLIT_PART(email, '@', 1))
WHERE username IS NULL;

-- ุงูุชุญูู
SELECT email, username FROM users;
```

### 2. ุงูุชุฐุงูุฑ ุงููุฏููุฉ ุจุฏูู ุฑูู ูุงุชู

```sql
-- ุนุฑุถ ุงูุชุฐุงูุฑ ุจุฏูู ุฑูู ูุงุชู
SELECT * FROM tickets WHERE phone IS NULL OR phone = '';

-- ููููู ุชุญุฏูุซูุง ูุฏููุงู ุฃู ุญุฐููุง
```

---

## โ ูุงุฆูุฉ ุงูุชุญูู

- [ ] ุชูููุฐ Migration 005
- [ ] ุฅุนุงุฏุฉ ุชุดุบูู ุงูุชุทุจูู
- [ ] ุงุฎุชุจุงุฑ ุชุณุฌูู ุงูุฏุฎูู ุจุงุณู ุงููุณุชุฎุฏู
- [ ] ุงุฎุชุจุงุฑ ุฅูุดุงุก ุชุฐูุฑุฉ ุจุฑูู ุงููุงุชู ููุท
- [ ] ุงุฎุชุจุงุฑ ุฅูุดุงุก ูุณุชุฎุฏู ุฌุฏูุฏ
- [ ] ุงูุชุญูู ูู ุนุฑุถ ุงูุชุฐุงูุฑ (ุฑูู ุงููุงุชู)
- [ ] ุงูุชุญูู ูู ุฌุฏูู ุงููุณุชุฎุฏููู (ุงุณู ุงููุณุชุฎุฏู)

---

## ๐ ุญู ุงููุดุงูู

### ุงููุดููุฉ: "username column does not exist"

**ุงูุญู**: ูู ูุชู ุชูููุฐ Migration 005
```sql
-- ููุฐ ูุฐุง ุงูุงุณุชุนูุงู
ALTER TABLE users ADD COLUMN IF NOT EXISTS username VARCHAR(50) UNIQUE;
```

### ุงููุดููุฉ: "Invalid username or password"

**ุงูุญู**: ุชุฃูุฏ ูู:
1. ุงุณู ุงููุณุชุฎุฏู ุตุญูุญ (ุจุฃุญุฑู ุตุบูุฑุฉ)
2. ูููุฉ ุงููุฑูุฑ ุตุญูุญุฉ
3. ุงูุญุณุงุจ ูุดุท (is_active = true)

### ุงููุดููุฉ: ูุง ูููู ุฅูุดุงุก ุชุฐูุฑุฉ ุจุฏูู ุงุณู ุนููู

**ุงูุญู**: ุชุฃูุฏ ูู ุชูููุฐ Migration 005 ุงูุชู ุชุฌุนู client_name ุงุฎุชูุงุฑูุงู

---

**ุงูุฅุตุฏุงุฑ**: 1.2.0  
**ุงูุชุงุฑูุฎ**: 2024-01-XX  
**ุงูุญุงูุฉ**: โ ุฌุงูุฒ ููุฅูุชุงุฌ

**ูุดุฑ ุณุนูุฏ! ๐**

